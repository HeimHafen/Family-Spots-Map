<!doctype html>
<html lang="de" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <title>Family Spots Map â€“ Die schÃ¶nste Karte fÃ¼r Familien-Abenteuer</title>
    <meta
      name="description"
      content="Family Spots Map: Die schÃ¶nste Karte fÃ¼r Familien-Abenteuer â€“ SpielplÃ¤tze, Zoos, Wildparks, Pumptracks, familienfreundliche Spots & mehr."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#14b8c4" />

    <link rel="manifest" href="manifest.webmanifest" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="assets/icons/icon-192.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/icons/apple-touch-icon.png"
    />

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <!-- MarkerCluster CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"
    />

    <!-- App-Styles -->
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/badges.css" />
  </head>
  <body>
    <noscript>
      <div class="noscript-warning">
        Family Spots Map benÃ¶tigt JavaScript, um korrekt zu funktionieren.
      </div>
    </noscript>

    <div class="app">
      <!-- ======================= -->
      <!-- HEADER                  -->
      <!-- ======================= -->
      <header class="app-header">
        <div class="app-header-left">
          <button
            id="btn-help"
            class="btn-icon"
            type="button"
            aria-label="Ãœber Family Spots Map"
          >
            â“
          </button>

          <select
            id="language-switcher"
            class="language-switcher"
            aria-label="Sprache auswÃ¤hlen"
          >
            <option value="de">DE</option>
            <option value="en">EN</option>
          </select>
        </div>

        <div class="app-header-center">
          <h1 class="header-title">
            <span class="header-flag" aria-hidden="true">ğŸ‡©ğŸ‡ª</span>
            Family
            <span
              class="header-title-spots"
              style="color:#14b8c4;font-weight:700;"
            >
              Spots
            </span>
            Map
            <span class="header-flag" aria-hidden="true">ğŸ‡©ğŸ‡°</span>
          </h1>
          <p class="header-tagline" id="header-tagline">
            Die schÃ¶nste Karte fÃ¼r Familien-Abenteuer. Finde geprÃ¼fte
            Ausflugsziele in deiner NÃ¤he â€“ von Eltern fÃ¼r Eltern.
          </p>
        </div>

        <div class="app-header-right">
          <button
            id="theme-toggle"
            class="btn-icon"
            type="button"
            aria-label="Theme wechseln"
          >
            ğŸŒ“
          </button>
          <button
            id="btn-locate"
            class="btn-icon"
            type="button"
            aria-label="Eigenen Standort anzeigen"
          >
            ğŸ“
          </button>
        </div>
      </header>

      <!-- ======================= -->
      <!-- MAIN                    -->
      <!-- ======================= -->
      <main class="app-main">
        <!-- MAP VIEW -->
        <section id="view-map" class="view view--active" aria-label="Karte">
          <!-- Sidebar (Kompass + Plus + Filter + Liste) -->
          <aside class="sidebar">
            <!-- Familien-Kompass (einklappbar) -->
            <details
              class="sidebar-section"
              id="compass-section"
              open
            >
              <summary class="sidebar-section-header">
                <h2
                  class="sidebar-section-title"
                  id="compass-label"
                >
                  Familien-Kompass
                </h2>
                <button
                  id="btn-toggle-compass"
                  class="btn-ghost btn-small"
                  type="button"
                >
                  <span>SchlieÃŸen</span>
                </button>
              </summary>

              <div class="compass-card">
                <p
                  class="filter-group-helper"
                  id="compass-helper"
                >
                  Der Familien-Kompass hilft euch mit einem Klick Spots zu
                  finden, die zu eurer Zeit, eurem Alter und eurer Energie
                  passen.
                </p>
                <button
                  type="button"
                  id="compass-apply"
                  class="btn btn-small"
                >
                  <span id="compass-apply-label">
                    Kompass anwenden
                  </span>
                </button>
              </div>
            </details>

            <!-- Family Spots Plus (einklappbar) -->
            <details
              class="sidebar-section"
              id="plus-section"
              open
            >
              <summary class="sidebar-section-header">
                <h2 class="sidebar-section-title">
                  Family Spots Plus
                </h2>
                <button
                  id="btn-toggle-plus"
                  class="btn-ghost btn-small"
                  type="button"
                >
                  <span>SchlieÃŸen</span>
                </button>
              </summary>

              <div class="filter-group">
                <p id="plus-status-text">
                  Family Spots Plus ist nicht aktiviert.
                </p>
              </div>

              <div class="plus-code-form">
                <label for="plus-code-input">
                  Partner-Code eingeben (z. B. von Campingplatz,
                  Kommune oder Sponsor):
                </label>
                <div class="plus-code-row">
                  <input
                    id="plus-code-input"
                    class="input"
                    type="text"
                    autocomplete="off"
                  />
                  <button
                    id="plus-code-submit"
                    class="btn"
                    type="button"
                  >
                    Code aktivieren
                  </button>
                </div>
                <p class="plus-note">
                  Family Spots Plus schaltet zusÃ¤tzliche Filter &amp; Spots frei
                  â€“ ganz ohne Abo-Falle.
                </p>
              </div>
            </details>

            <!-- Filter-Section -->
            <section class="sidebar-section">
              <header class="sidebar-section-header">
                <h2
                  class="sidebar-section-title"
                  id="filter-title"
                >
                  Filter
                </h2>
                <button
                  id="btn-toggle-filters"
                  class="btn-ghost btn-small"
                  type="button"
                >
                  <span>Filter ausblenden</span>
                </button>
              </header>

              <!-- Suche -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  for="filter-search"
                  id="filter-search-label"
                >
                  Suche
                </label>
                <input
                  id="filter-search"
                  class="input"
                  type="search"
                  placeholder="Ort, Spot, StichwÃ¶rter â€¦"
                  autocomplete="off"
                />
              </div>

              <!-- Kategorie -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  for="filter-category"
                  id="filter-category-label"
                >
                  Kategorie
                </label>
                <select id="filter-category" class="input">
                  <option value="">Alle Kategorien</option>
                </select>
              </div>

              <!-- Stimmung -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  id="filter-mood-label"
                >
                  Stimmung
                </label>
                <p
                  class="filter-group-helper"
                  id="filter-mood-helper"
                >
                  Wonach fÃ¼hlt es sich heute an?
                </p>
                <div class="mood-row" aria-label="Stimmung wÃ¤hlen">
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="relaxed"
                  >
                    <span class="mood-chip-emoji" aria-hidden="true">ğŸŒ¿</span>
                    <span class="mood-chip-label" id="mood-relaxed-label">
                      Entspannt
                    </span>
                  </button>
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="action"
                  >
                    <span class="mood-chip-emoji" aria-hidden="true">â›°ï¸</span>
                    <span class="mood-chip-label" id="mood-action-label">
                      Bewegung
                    </span>
                  </button>
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="water"
                  >
                    <span class="mood-chip-emoji" aria-hidden="true">ğŸ’§</span>
                    <span class="mood-chip-label" id="mood-water-label">
                      Wasser &amp; Sand
                    </span>
                  </button>
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="animals"
                  >
                    <span class="mood-chip-emoji" aria-hidden="true">ğŸ¾</span>
                    <span class="mood-chip-label" id="mood-animals-label">
                      Tier-Tag
                    </span>
                  </button>
                </div>
              </div>

              <!-- Reise-Modus -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  id="filter-travel-label"
                >
                  Reise-Modus
                </label>
                <p
                  class="filter-group-helper"
                  id="filter-travel-helper"
                >
                  Seid ihr heute im Alltag unterwegs oder auf Tour mit WoMo,
                  Auto oder Bahn?
                </p>
                <div class="mood-row" aria-label="Reise-Modus wÃ¤hlen">
                  <button
                    type="button"
                    class="travel-chip"
                    data-travel-mode="everyday"
                  >
                    <span class="mood-chip-emoji" aria-hidden="true">ğŸ¡</span>
                    <span class="mood-chip-label" id="travel-everyday-label">
                      Alltag
                    </span>
                  </button>
                  <button
                    type="button"
                    class="travel-chip"
                    data-travel-mode="trip"
                  >
                    <span class="mood-chip-emoji" aria-hidden="true">ğŸš</span>
                    <span class="mood-chip-label" id="travel-trip-label">
                      Unterwegs
                    </span>
                  </button>
                </div>
              </div>

              <!-- Alter der Kinder -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  for="filter-age"
                  id="filter-age-label"
                >
                  Alter der Kinder
                </label>
                <select id="filter-age" class="input">
                  <option value="all" id="filter-age-all">
                    Alle Altersstufen
                  </option>
                  <option value="0-3" id="filter-age-0-3">
                    0â€“3 Jahre
                  </option>
                  <option value="4-9" id="filter-age-4-9">
                    4â€“9 Jahre
                  </option>
                  <option value="10+" id="filter-age-10-plus">
                    10+ Jahre
                  </option>
                </select>
              </div>

              <!-- Micro-Abenteuer-Radius -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  for="filter-radius"
                  id="filter-radius-label"
                >
                  Micro-Abenteuer-Radius
                </label>
                <p
                  class="filter-group-helper"
                  id="filter-radius-helper"
                >
                  Wie weit darf euer Abenteuer heute gehen? Der Radius bezieht
                  sich auf die Kartenmitte (Zuhause, Ferienwohnung, Hotel â€¦).
                </p>
                <div class="radius-row">
                  <input
                    id="filter-radius"
                    type="range"
                    min="0"
                    max="4"
                    step="1"
                    value="4"
                    aria-label="Micro-Abenteuer-Radius"
                  />
                  <span
                    id="filter-radius-max-label"
                    class="radius-max-label"
                  >
                    Alle Spots
                  </span>
                </div>
                <p
                  id="filter-radius-description"
                  class="radius-description"
                >
                  Alle Spots â€“ ohne Radiusbegrenzung. Die Karte gehÃ¶rt euch.
                </p>
              </div>

              <!-- Checkboxen -->
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label" id="filter-big-label">
                  <input
                    id="filter-big-adventures"
                    type="checkbox"
                  />
                  <span>Nur groÃŸe Abenteuer</span>
                </label>
              </div>

              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label" id="filter-verified-label">
                  <input id="filter-verified" type="checkbox" />
                  <span>Nur verifizierte Spots</span>
                </label>
              </div>

              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label" id="filter-favs-label">
                  <input id="filter-favorites" type="checkbox" />
                  <span>Nur Favoriten</span>
                </label>
              </div>
            </section>

            <!-- Spot-Liste -->
            <section
              class="sidebar-section sidebar-section--grow"
              aria-label="Spots"
            >
              <header class="sidebar-section-header">
                <h2
                  class="sidebar-section-title"
                  id="spots-title"
                >
                  Spots
                </h2>
                <button
                  id="btn-toggle-view"
                  class="btn-ghost btn-small"
                  type="button"
                >
                  <span>Nur Karte</span>
                </button>
              </header>

              <div id="spot-list" class="spot-list">
                <!-- Spotkarten werden per JS gerendert -->
              </div>
            </section>
          </aside>

          <!-- Map -->
          <section class="map-section" aria-label="Karte">
            <div id="map" class="map-container"></div>
            <aside
              id="spot-detail"
              class="spot-details"
              aria-live="polite"
            ></aside>
          </section>
        </section>

        <!-- ABOUT VIEW -->
        <!-- (unverÃ¤ndert, gekÃ¼rzt hier nicht weiter angepasst) -->
        <!-- ... dein About-Content wie bisher ... -->
      </main>

      <!-- ======================= -->
      <!-- BOTTOM NAV + TOAST      -->
      <!-- ======================= -->
      <nav class="bottom-nav" aria-label="Hauptnavigation">
        <div
          class="bottom-nav-background"
          aria-hidden="true"
        ></div>
        <div
          id="bottom-nav-indicator"
          class="bottom-nav-indicator"
          aria-hidden="true"
        ></div>

        <button
          class="bottom-nav-item bottom-nav-item--active"
          type="button"
          data-route="map"
        >
          <span class="bottom-nav-icon" aria-hidden="true">ğŸ—ºï¸</span>
          <span id="bottom-nav-map-label">Karte</span>
        </button>

        <button
          class="bottom-nav-item"
          type="button"
          data-route="about"
        >
          <span class="bottom-nav-icon" aria-hidden="true">â„¹ï¸</span>
          <span id="bottom-nav-about-label">Ãœber</span>
        </button>
      </nav>

      <!-- Toast -->
      <div id="toast" class="toast" role="status" aria-live="polite"></div>
    </div>

    <!-- Scripts: Leaflet + MarkerCluster -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

    <!-- App (als ES-Modul) -->
    <script type="module" src="js/app.js"></script>
  </body>
</html>