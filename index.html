<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Family Spots Map â€“ ABF 2026</title>
  <meta name="description" content="Finde kinderfreundliche Orte im Handumdrehen. Offline-fÃ¤hig. ABF 2026 Edition.">
  <link rel="icon" href="assets/icons/favicon.svg" type="image/svg+xml">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#27ae60"/>

  <meta property="og:title" content="Family Spots Map â€“ ABF 2026">
  <meta property="og:description" content="Finde kinderfreundliche Orte. Offline-fÃ¤hig. ABF 2026 Edition.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="assets/icons/social-card.png">

  <!-- Leaflet & MarkerCluster (CDN) -->
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="anonymous">
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" crossorigin="anonymous">
  <script defer src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="css/styles.css?v=3">
  <link rel="stylesheet" href="css/badges.css?v=2">
</head>
<body>
  <a class="skip" href="#main">Zum Inhalt springen</a>

  <header>
    <div class="header-row">
      <span class="flag">ðŸ‡©ðŸ‡ª</span>
      <div class="brand">
        <h1 id="title">Family Spots Map</h1>
        <p id="tagline">Finden â€¢ Spielen â€¢ Ankommen</p>
      </div>
      <span class="flag">ðŸ‡©ðŸ‡°</span>

      <div class="header-actions">
        <div class="lang-switch" role="group" aria-label="Sprache">
          <button class="lang active" data-lang="de" aria-pressed="true">DE</button>
          <button class="lang" data-lang="en" aria-pressed="false">EN</button>
        </div>
        <button id="btn-share" class="secondary" aria-label="Teilen">Teilen</button>
        <button id="install" class="secondary">App installieren</button>
      </div>
    </div>

    <div class="toolbar" role="search">
      <label class="visually-hidden" for="search" id="label-search">Suche</label>
      <input id="search" class="full" type="search" placeholder="Suche..." aria-labelledby="label-search"/>

      <label class="visually-hidden" id="label-category">Kategorie</label>
      <select id="category" aria-labelledby="label-category" title="Kategorie"></select>

      <label><input type="checkbox" id="toggle-verified"> <span id="label-verified">Nur verifiziert</span></label>
      <label><input type="checkbox" id="toggle-favs"> <span id="label-favs">Favoriten</span></label>
      <button id="nearby" class="secondary">In der NÃ¤he</button>
      <button id="reset" class="secondary">ZurÃ¼cksetzen</button>
    </div>

    <div class="tabs" role="tablist" aria-label="Ansicht wechseln">
      <button id="tab-list" role="tab" aria-selected="true">Liste</button>
      <button id="tab-map" role="tab" aria-selected="false">Karte</button>
    </div>
  </header>

  <main id="main">
    <section id="panel-list" class="panel" role="tabpanel" aria-labelledby="tab-list">
      <ul id="spots"></ul>
      <div class="panel-actions">
        <button id="add-spot" class="secondary">Spot hinzufÃ¼gen</button>
        <button id="import-favs" class="secondary">Favoriten importieren</button>
        <button id="export" class="secondary">Favoriten exportieren</button>
      </div>
    </section>

    <section id="panel-map" class="panel" role="tabpanel" aria-labelledby="tab-map" hidden>
      <div id="map" role="application" aria-label="Karte"></div>
    </section>
  </main>

  <!-- Add-Spot Modal -->
  <div id="modal-overlay" class="overlay" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <h2 id="modal-title">Neuen Spot vorschlagen</h2>
      <form id="add-spot-form">
        <div class="grid">
          <label> Name
            <input required name="name" placeholder="z. B. Spielplatz am See">
          </label>
          <label> ID
            <input required name="id" placeholder="kebab-case-id">
          </label>
          <label> Kategorie
            <select name="category" id="form-category"></select>
          </label>
          <label> Stadt
            <input required name="city" placeholder="Hannover">
          </label>
          <label> Land (ISO-2)
            <input required name="country" maxlength="2" value="DE">
          </label>
          <label> Adresse
            <input name="address" placeholder="StraÃŸe, PLZ Ort">
          </label>
          <label> Breitengrad (lat)
            <input required name="lat" type="number" step="any" placeholder="52.3759">
          </label>
          <label> LÃ¤ngengrad (lon)
            <input required name="lon" type="number" step="any" placeholder="9.7320">
          </label>
          <label> USPs (Komma-getrennt)
            <input name="usp" placeholder="Schatten, Wickelraum, Kiosk">
          </label>
          <label> Tags (Komma-getrennt)
            <input name="tags" placeholder="Rutsche, Schaukel">
          </label>
          <label> Poesie
            <input name="poetry" placeholder="Kurze, warme Zeile â€¦">
          </label>
          <label> Verifiziert?
            <select name="verified">
              <option value="false">nein</option>
              <option value="true">ja</option>
            </select>
          </label>
          <label> Rating (0â€“5)
            <input name="rating" type="number" step="0.1" min="0" max="5" placeholder="4.6">
          </label>
          <label> Quelle
            <input name="source" placeholder="community / official / â€¦">
          </label>
        </div>
        <div class="modal-actions">
          <button type="button" id="modal-cancel" class="secondary">Abbrechen</button>
          <button type="submit" class="primary">JSON erzeugen</button>
        </div>
      </form>
      <div id="json-output" class="json-output" hidden>
        <div class="json-actions">
          <button id="copy-json" class="secondary">In Zwischenablage</button>
          <button id="download-json" class="secondary">Als Datei speichern</button>
        </div>
        <pre><code id="json-code"></code></pre>
        <p class="muted small">FÃ¼ge das JSON per PR zu <code>data/spots.json</code> hinzu (Schema wird validiert).</p>
      </div>
    </div>
  </div>

  <div id="offline" role="status" aria-live="polite">Offline: Kartenkacheln evtl. nicht verfÃ¼gbar</div>

  <footer>
    <small>Â© <span id="year"></span> Family Spots Map. Community/OSM. Bitte beachte die
      <a href="https://operations.osmfoundation.org/policies/tiles/" target="_blank" rel="noopener">Tile-Nutzungsregeln</a>.</small>
  </footer>

  <script type="module" src="js/app.js?v=3"></script>
  <script nomodule>document.body.innerHTML='<p>Ein moderner Browser ist erforderlich.</p>';</script>
</body>
</html>
