<!doctype html>
<html lang="de" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>Family Spots Map â€“ Die schÃ¶nste Karte fÃ¼r Familien-Abenteuer</title>
  <meta
    name="description"
    content="Family Spots Map: Handverlesene SpielplÃ¤tze, Zoos, Wildparks, Wasser-Spots & familienfreundliche Orte â€“ fÃ¼r eure nÃ¤chsten Familienabenteuer mit Kindern."
  />
  <meta name="theme-color" content="#fb8c00" />
  <meta name="robots" content="index,follow" />
  <meta name="color-scheme" content="light dark" />
  <meta name="apple-mobile-web-app-title" content="Family Spots Map" />
  <meta name="format-detection" content="telephone=no" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://heimhafen.github.io/Family-Spots-Map/" />
  <link rel="alternate" hreflang="de" href="https://heimhafen.github.io/Family-Spots-Map/" />
  <link rel="alternate" hreflang="en" href="https://heimhafen.github.io/Family-Spots-Map/en/" />
  <link rel="alternate" hreflang="da" href="https://heimhafen.github.io/Family-Spots-Map/da/" />

  <!-- Open Graph -->
  <meta property="og:title" content="Family Spots Map â€“ familienfreundliche Abenteuerkarte" />
  <meta
    property="og:description"
    content="Entdecke handverlesene SpielplÃ¤tze, Wildparks, Wasser-Spots & mehr â€“ ideal fÃ¼r Familienabenteuer mit Kindern."
  />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://heimhafen.github.io/Family-Spots-Map/" />
  <meta
    property="og:image"
    content="https://heimhafen.github.io/Family-Spots-Map/assets/social/og-image.png"
  />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:locale" content="de_DE" />
  <meta property="og:site_name" content="Family Spots Map" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Family Spots Map â€“ familienfreundliche Abenteuerkarte" />
  <meta
    name="twitter:description"
    content="Entdecke ausgewÃ¤hlte SpielplÃ¤tze, Wildparks, Wasser-Spots u.v.m. â€“ ideal fÃ¼r Familienabenteuer."
  />
  <meta
    name="twitter:image"
    content="https://heimhafen.github.io/Family-Spots-Map/assets/social/og-image.png"
  />

  <!-- Structured Data: WebApplication -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Family Spots Map",
      "operatingSystem": "iOS, Android, Web",
      "applicationCategory": "TravelApplication",
      "url": "https://heimhafen.github.io/Family-Spots-Map/",
      "inLanguage": ["de", "en", "da"],
      "description": "Family Spots Map: Handverlesene SpielplÃ¤tze, Zoos, Wildparks, Wasser-Spots & familienfreundliche Orte â€“ fÃ¼r eure nÃ¤chsten Familienabenteuer mit Kindern.",
      "offers": {
        "@type": "Offer",
        "price": "19.90",
        "priceCurrency": "EUR",
        "description": "Jahresabo fÃ¼r die Grundkarte"
      }
    }
  </script>

  <!-- PWA / Apple -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />

  <!-- Performance hints -->
  <link rel="preconnect" href="https://unpkg.com" crossorigin />

  <!-- Favicon / Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/icon-192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png" />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"
  />

  <!-- App Styles -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/badges.css" />

  <!-- Kleine UI-Feintunings: Skip-Link, Onboarding-Hinweis & Filtermodal-Header -->
  <style>
    /* Skip-Link: als dezente Pille, nur bei Fokus sichtbar */
    .skip-link {
      position: fixed;
      left: 50%;
      transform: translateX(-50%) translateY(-4px);
      top: calc(env(safe-area-inset-top, 0px) + 8px);
      z-index: 3000;
      padding: 8px 16px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.96);
      color: #fef3e7;
      font-size: 13px;
      font-weight: 600;
      text-decoration: none;
      box-shadow: 0 8px 22px rgba(0, 0, 0, 0.75);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.16s ease-out, transform 0.16s ease-out;
    }

    [data-theme="light"] .skip-link {
      background: #3b2313;
      color: #fff7eb;
    }

    .skip-link:focus-visible {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(-50%) translateY(0);
    }

    /* Onboarding-Hinweis Ã¼ber der Spot-Liste */
    .fsm-onboarding-hint {
      margin-block: 0;
      padding: 0.75rem 1rem;
      border-radius: 0.75rem;
      font-size: 0.9rem;
      line-height: 1.4;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.06);
    }

    .fsm-onboarding-hint__text {
      margin: 0;
    }

    .fsm-onboarding-hint__close {
      margin-left: auto;
      border: 0;
      background: none;
      cursor: pointer;
      font-size: 1.1rem;
      line-height: 1;
      padding-left: 0.5rem;
    }

    /* Filtermodal-Header mit Text-Button zum SchlieÃŸen */
    .filter-modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 8px;
    }

    .filter-modal-close-btn {
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <!-- Globaler Skip-Link -->
  <a
    href="#view-map"
    class="skip-link"
    data-i18n-de="Zum Hauptinhalt springen"
    data-i18n-en="Skip to main content"
    data-i18n-da="Spring til hovedindholdet"
  >
    Zum Hauptinhalt springen
  </a>

  <noscript>
    <div class="noscript-warning">
      Family Spots Map benÃ¶tigt JavaScript, um korrekt zu funktionieren.
      Bitte JavaScript im Browser aktivieren, um die interaktive Karte und Filter nutzen zu kÃ¶nnen.
    </div>
  </noscript>

  <div class="app">
    <!-- =========================================
         HEADER
         ========================================= -->
    <header class="app-header" role="banner">
      <nav class="app-header-top" aria-label="App-Einstellungen und Schnellzugriffe">
        <div class="app-header-left">
          <!-- Unsichtbarer Legacy-Language-Switcher:
               bleibt fÃ¼r die bestehende i18n-Logik erhalten,
               wird aber nicht mehr direkt angezeigt -->
          <button
            id="language-switcher"
            type="button"
            class="sr-only"
            aria-hidden="true"
            tabindex="-1"
          >
            <!-- hidden language switch trigger -->
          </button>
        </div>
        <div class="app-header-right">
          <button
            id="menu-toggle"
            class="btn-icon btn-menu"
            type="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-controls="app-menu"
          >
            <span class="btn-menu-icon" aria-hidden="true">â˜°</span>
            <span
              class="sr-only"
              data-i18n-de="MenÃ¼ Ã¶ffnen"
              data-i18n-en="Open menu"
              data-i18n-da="Ã…bn menu"
            >
              MenÃ¼ Ã¶ffnen
            </span>
          </button>
        </div>
      </nav>

      <div class="app-header-main">
        <h1 class="header-title" id="app-title" tabindex="-1">
          <span class="header-flag" aria-hidden="true">ğŸ‡©ğŸ‡ª</span>
          Family <span class="header-title-spots">Spots</span> Map
          <span class="header-flag" aria-hidden="true">ğŸ‡©ğŸ‡°</span>
        </h1>
        <p
          class="header-tagline"
          id="header-tagline"
          data-i18n-de="Heute ist ein guter Tag, an dem aus Alltag ein kleines Familienabenteuer werden darf."
          data-i18n-en="Today is a good day for everyday life to turn into a little family adventure."
          data-i18n-da="I dag er en god dag, hvor hverdagen gerne mÃ¥ blive til et lille familieeventyr."
        >
          Heute ist ein guter Tag, an dem aus Alltag ein kleines Familienabenteuer werden darf.
        </p>
      </div>
    </header>

    <!-- =========================================
         HEADER-MENÃœ (â˜°)
         ========================================= -->
    <div
      id="app-menu"
      class="app-menu"
      role="dialog"
      aria-modal="true"
      aria-label="Schnellzugriffe und Einstellungen"
      hidden
    >
      <div class="app-menu-backdrop" data-menu-close="1"></div>
      <div class="app-menu-panel">
        <div class="app-menu-list" role="menu">
          <!-- Info -->
          <button
            id="btn-help"
            class="app-menu-item"
            type="button"
            role="menuitem"
            data-menu-close="1"
          >
            <span class="app-menu-item-icon" aria-hidden="true">â„¹ï¸</span>
            <span
              class="app-menu-item-label"
              data-i18n-de="Ãœber Family Spots Map"
              data-i18n-en="About Family Spots Map"
              data-i18n-da="Om Family Spots Map"
            >
              Ãœber Family Spots Map
            </span>
          </button>

          <!-- Zur Spot-Liste springen -->
          <button
            id="btn-skip-spots"
            class="app-menu-item"
            type="button"
            role="menuitem"
            data-menu-close="1"
            onclick="document.getElementById('spots-title').scrollIntoView({behavior: 'smooth'});"
          >
            <span class="app-menu-item-icon" aria-hidden="true">ğŸ—ºï¸</span>
            <span
              class="app-menu-item-label"
              id="skip-to-spots-label"
              data-i18n-de="Zur Spot-Liste springen"
              data-i18n-en="Jump to spot list"
              data-i18n-da="GÃ¥ til spotlisten"
            >
              Zur Spot-Liste springen
            </span>
          </button>

          <!-- Theme-Toggle -->
          <button
            id="theme-toggle"
            class="app-menu-item"
            type="button"
            role="menuitem"
            data-menu-close="1"
          >
            <span class="app-menu-item-icon" aria-hidden="true">ğŸŒ“</span>
            <span
              class="app-menu-item-label"
              id="theme-toggle-label"
              data-i18n-de="Designmodus wechseln"
              data-i18n-en="Switch color theme"
              data-i18n-da="Skift design-tilstand"
            >
              Designmodus wechseln
            </span>
          </button>

          <!-- Standort -->
          <button
            id="btn-locate"
            class="app-menu-item"
            type="button"
            role="menuitem"
            data-menu-close="1"
          >
            <span class="app-menu-item-icon" aria-hidden="true">ğŸ“</span>
            <span
              class="app-menu-item-label"
              id="btn-locate-label"
              data-i18n-de="Eigenen Standort auf der Karte anzeigen"
              data-i18n-en="Center map on your location"
              data-i18n-da="Vis din egen position pÃ¥ kortet"
            >
              Eigenen Standort auf der Karte anzeigen
            </span>
          </button>
        </div>

        <!-- Sprache: Flaggen-Chips -->
        <div
          class="app-menu-languages"
          role="group"
          aria-labelledby="menu-language-label"
        >
          <p
            id="menu-language-label"
            class="app-menu-languages-label"
            data-i18n-de="Sprache"
            data-i18n-en="Language"
            data-i18n-da="Sprog"
          >
            Sprache
          </p>
          <div class="app-menu-languages-row">
            <button
              type="button"
              class="app-menu-lang-chip"
              data-lang-target="de"
            >
              <span class="app-menu-lang-flag" aria-hidden="true">ğŸ‡©ğŸ‡ª</span>
              <span class="app-menu-lang-code">DE</span>
            </button>
            <button
              type="button"
              class="app-menu-lang-chip"
              data-lang-target="da"
            >
              <span class="app-menu-lang-flag" aria-hidden="true">ğŸ‡©ğŸ‡°</span>
              <span class="app-menu-lang-code">DA</span>
            </button>
            <button
              type="button"
              class="app-menu-lang-chip"
              data-lang-target="en"
            >
              <span class="app-menu-lang-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
              <span class="app-menu-lang-code">EN</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- =========================================
         MAIN
         ========================================= -->
    <main class="app-main" id="main-content" role="main">
      <!-- =======================
           MAP VIEW
           ======================= -->
      <section id="view-map" class="view view--active" aria-label="Karte">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar" aria-labelledby="spots-title">
          <!-- Tilla-Begleiterin -->
          <section
            id="tilla-section"
            class="sidebar-section tilla-sidebar-section"
            aria-labelledby="tilla-title"
          >
            <header class="sidebar-section-header">
              <h2
                class="sidebar-section-title"
                id="tilla-title"
                data-i18n-de="Familien-Begleiterin Tilla"
                data-i18n-en="Family companion Tilla"
                data-i18n-da="Familieledsageren Tilla"
              >
                Familien-Begleiterin Tilla
              </h2>
            </header>
            <div class="tilla-sidebar-card">
              <div class="tilla-sidebar-avatar">
                <img
                  src="assets/tilla/tilla-hero.png"
                  alt="Tilla die SchildkrÃ¶te â€“ eure ruhige Familienbegleiterin"
                  loading="lazy"
                  decoding="async"
                  width="512"
                  height="512"
                />
              </div>
              <div class="tilla-sidebar-text">
                <p
                  id="tilla-sidebar-text"
                  data-i18n-de="Ich bin Tilla, eure kleine SchildkrÃ¶te. Alltag darf auch leicht sein. Lass uns schauen, welcher Ort in eurer NÃ¤he euch heute ein LÃ¤cheln zaubert. ğŸŒ¿"
                  data-i18n-en="Iâ€™m Tilla, your little turtle companion. Everyday life can feel light, too. Letâ€™s see which nearby place might bring a smile to you today. ğŸŒ¿"
                  data-i18n-da="Jeg er Tilla, jeres lille skildpadde. Hverdagen mÃ¥ ogsÃ¥ gerne fÃ¸les let. Lad os se, hvilket sted i nÃ¦rheden der i dag kan trylle et smil frem hos jer. ğŸŒ¿"
                >
                  Ich bin Tilla, eure kleine SchildkrÃ¶te. Alltag darf auch leicht sein. Lass uns schauen, welcher Ort
                  in eurer NÃ¤he euch heute ein LÃ¤cheln zaubert. ğŸŒ¿
                </p>
                <div class="tilla-sidebar-actions">
                  <button id="btn-play-idea" type="button" class="btn btn-small btn-play-idea">
                    <span class="tilla-play-emoji" aria-hidden="true">ğŸ²</span>
                    <span
                      data-i18n-de="Spielideen fÃ¼r unterwegs"
                      data-i18n-en="Play ideas on the go"
                      data-i18n-da="LegidÃ©er til turen"
                    >
                      Spielideen fÃ¼r unterwegs
                    </span>
                  </button>
                </div>
              </div>
            </div>
          </section>

          <!-- Kompakter Filter -->
          <section class="sidebar-section" id="filter-section" aria-labelledby="filter-title">
            <header class="sidebar-section-header">
              <h2
                class="sidebar-section-title"
                id="filter-title"
                data-i18n-de="Filter"
                data-i18n-en="Filters"
                data-i18n-da="Filtre"
              >
                Filter
              </h2>
              <button
                id="btn-toggle-filters"
                class="btn-ghost btn-small"
                type="button"
                aria-controls="filter-section"
                aria-expanded="false"
              >
                <span
                  data-i18n-de="Filter anzeigen"
                  data-i18n-en="Show filters"
                  data-i18n-da="Vis filtre"
                >
                  Filter anzeigen
                </span>
              </button>
            </header>

            <p
              class="filter-group-helper filter-group-helper--compact"
              data-i18n-de="Suche, Stimmung &amp; Radius â€“ alles, was ihr fÃ¼r den Start braucht. Weitere Filter Ã¶ffnen sich bei Bedarf."
              data-i18n-en="Search, mood &amp; radius â€“ everything you need to get started. Open all filters only when needed."
              data-i18n-da="SÃ¸gning, stemning &amp; radius â€“ alt det vigtigste til at starte med. Ã…bn alle filtre efter behov."
            >
              Suche, Stimmung &amp; Radius â€“ alles, was ihr fÃ¼r den Start braucht. Weitere Filter Ã¶ffnen sich bei
              Bedarf.
            </p>

            <!-- Suche -->
            <div class="filter-group">
              <label
                class="filter-group-label"
                for="filter-search"
                id="filter-search-label"
                data-i18n-de="Suche"
                data-i18n-en="Search"
                data-i18n-da="SÃ¸g"
              >
                Suche
              </label>
              <input
                id="filter-search"
                name="search"
                class="input"
                type="search"
                placeholder="Ort, Spot, Stichwort â€¦"
                autocomplete="off"
                data-i18n-de="Ort, Spot, Stichwort â€¦"
                data-i18n-en="Place, spot, keywords â€¦"
                data-i18n-da="Sted, spot, sÃ¸geord â€¦"
              />
            </div>

            <!-- Stimmung -->
            <div class="filter-group">
              <label
                class="filter-group-label"
                id="filter-mood-label"
                data-i18n-de="Stimmung"
                data-i18n-en="Mood"
                data-i18n-da="Stemning"
              >
                Stimmung
              </label>
              <p
                class="filter-group-helper filter-group-helper--compact"
                id="filter-mood-helper"
                data-i18n-de="Ruhe, Bewegung, Wasser oder ein Tag mit Tieren?"
                data-i18n-en="Calm, movement, water or a day with animals?"
                data-i18n-da="Ro, bevÃ¦gelse, vand eller en dag med dyr?"
              >
                Ruhe, Bewegung, Wasser oder ein Tag mit Tieren?
              </p>
              <div
                class="mood-row"
                role="group"
                aria-labelledby="filter-mood-label"
                aria-describedby="filter-mood-helper"
              >
                <button type="button" class="mood-chip" data-mood="relaxed" aria-pressed="false">
                  <span class="mood-chip-emoji" aria-hidden="true">ğŸŒ¿</span>
                  <span
                    class="mood-chip-label"
                    id="mood-relaxed-label"
                    data-i18n-de="Entspannt"
                    data-i18n-en="Relaxed"
                    data-i18n-da="Afslappet"
                  >
                    Entspannt
                  </span>
                </button>
                <button type="button" class="mood-chip" data-mood="action" aria-pressed="false">
                  <span class="mood-chip-emoji" aria-hidden="true">â›°ï¸</span>
                  <span
                    class="mood-chip-label"
                    id="mood-action-label"
                    data-i18n-de="Bewegung"
                    data-i18n-en="Active"
                    data-i18n-da="Aktiv"
                  >
                    Bewegung
                  </span>
                </button>
                <button type="button" class="mood-chip" data-mood="water" aria-pressed="false">
                  <span class="mood-chip-emoji" aria-hidden="true">ğŸ’§</span>
                  <span
                    class="mood-chip-label"
                    id="mood-water-label"
                    data-i18n-de="Wasser &amp; Sand"
                    data-i18n-en="Water &amp; sand"
                    data-i18n-da="Vand &amp; sand"
                  >
                    Wasser &amp; Sand
                  </span>
                </button>
                <button type="button" class="mood-chip" data-mood="animals" aria-pressed="false">
                  <span class="mood-chip-emoji" aria-hidden="true">ğŸ¾</span>
                  <span
                    class="mood-chip-label"
                    id="mood-animals-label"
                    data-i18n-de="Tier-Tag"
                    data-i18n-en="Animal day"
                    data-i18n-da="Dyredag"
                  >
                    Tier-Tag
                  </span>
                </button>
              </div>
            </div>

            <!-- Micro-Abenteuer-Radius -->
            <div class="filter-group">
              <label
                class="filter-group-label"
                for="filter-radius"
                id="filter-radius-label"
                data-i18n-de="Micro-Abenteuer-Radius"
                data-i18n-en="Micro-adventure radius"
                data-i18n-da="Mikroeventyr-radius"
              >
                Micro-Abenteuer-Radius
              </label>
              <p
                class="filter-group-helper filter-group-helper--compact"
                id="filter-radius-helper"
                data-i18n-de="Wie weit darf euer Abenteuer heute gehen?"
                data-i18n-en="How far may your adventure go today?"
                data-i18n-da="Hvor langt mÃ¥ jeres eventyr rÃ¦kke i dag?"
              >
                Wie weit darf euer Abenteuer heute gehen?
              </p>
              <div class="radius-row">
                <input
                  id="filter-radius"
                  name="radius"
                  type="range"
                  min="0"
                  max="4"
                  step="1"
                  value="4"
                  aria-labelledby="filter-radius-label filter-radius-helper filter-radius-description"
                />
                <span
                  id="filter-radius-max-label"
                  class="radius-max-label"
                  data-i18n-de="Alle Spots"
                  data-i18n-en="All spots"
                  data-i18n-da="Alle spots"
                >
                  Alle Spots
                </span>
              </div>
              <p
                id="filter-radius-description"
                class="radius-description"
                data-i18n-de="Alle Spots â€“ ohne Radiusbegrenzung. Die Karte gehÃ¶rt euch."
                data-i18n-en="All spots â€“ no radius limit. The map is all yours."
                data-i18n-da="Alle spots â€“ ingen radiusbegrÃ¦nsning. Kortet er helt jeres."
              >
                Alle Spots â€“ ohne Radiusbegrenzung. Die Karte gehÃ¶rt euch.
              </p>
            </div>

            <!-- Zusammenfassung & Button "Alle Filter Ã¶ffnen" -->
            <div class="filter-footer">
              <button id="btn-open-filter-modal" class="btn btn-small" type="button">
                <span
                  data-i18n-de="Alle Filter Ã¶ffnen"
                  data-i18n-en="Open all filters"
                  data-i18n-da="Ã…bn alle filtre"
                >
                  Alle Filter Ã¶ffnen
                </span>
              </button>

              <p
                id="filter-summary"
                class="filter-summary"
                data-i18n-de="Aktive Filter: Basisfilter"
                data-i18n-en="Active filters: basic filters"
                data-i18n-da="Aktive filtre: basisfiltre"
              >
                Aktive Filter: Basisfilter
              </p>
            </div>
          </section>

          <!-- Onboarding-Hinweis: erster Einstieg -->
          <section
            class="sidebar-section fsm-onboarding-hint"
            data-onboarding-hint
            aria-label="Kurzer Start-Hinweis zur Karte"
          >
            <p class="fsm-onboarding-hint__text">
              <strong
                data-i18n-de="So holt ihr euch euren Spot fÃ¼r heute:"
                data-i18n-en="How to find your spot for today:"
                data-i18n-da="SÃ¥dan finder I dagens spot:"
              >
                So holt ihr euch euren Spot fÃ¼r heute:
              </strong>
              <br />
              <span
                data-i18n-de="1. Standort freigeben oder in eure Region zoomen"
                data-i18n-en="1. Share your location or zoom into your region"
                data-i18n-da="1. Del jeres position eller zoom ind pÃ¥ jeres omrÃ¥de"
              >
                1. Standort freigeben oder in eure Region zoomen
              </span>
              <br />
              <span
                data-i18n-de="2. Stimmung wÃ¤hlen"
                data-i18n-en="2. Choose a mood"
                data-i18n-da="2. VÃ¦lg stemning"
              >
                2. Stimmung wÃ¤hlen
              </span>
              <br />
              <span
                data-i18n-de="3. Auf einen Spot tippen â€“ los gehtâ€™s."
                data-i18n-en="3. Tap a spot â€“ and off you go."
                data-i18n-da="3. Tryk pÃ¥ et spot â€“ sÃ¥ er I i gang."
              >
                3. Auf einen Spot tippen â€“ los gehtâ€™s.
              </span>
            </p>
            <button
              type="button"
              class="fsm-onboarding-hint__close"
              aria-label="Hinweis schlieÃŸen"
            >
              Ã—
            </button>
          </section>

          <!-- Spot-Liste -->
          <section
            class="sidebar-section sidebar-section--grow"
            aria-labelledby="spots-title"
          >
            <header class="sidebar-section-header">
              <h2 class="sidebar-section-title" id="spots-title">Spots</h2>
              <button
                id="btn-toggle-view"
                class="btn-ghost btn-small"
                type="button"
                aria-pressed="false"
                aria-controls="sidebar"
              >
                <span
                  data-i18n-de="Nur Karte"
                  data-i18n-en="Map only"
                  data-i18n-da="Kun kort"
                >
                  Nur Karte
                </span>
              </button>
            </header>
            <div id="spot-list" class="spot-list"><!-- Karten via JS --></div>
          </section>
        </aside>

        <!-- Karte + Details -->
        <section class="map-section" aria-label="Karte mit Spots">
          <div id="map" class="map-container"></div>
          <aside
            id="spot-detail"
            class="spot-details spot-details--hidden"
            aria-live="polite"
          ></aside>
        </section>

        <!-- Family Spots Plus -->
        <details
          class="sidebar-section"
          id="plus-section"
          aria-labelledby="plus-section-title"
        >
          <summary class="sidebar-section-header">
            <h2 class="sidebar-section-title" id="plus-section-title">
              Family Spots Plus
            </h2>
            <button
              id="btn-toggle-plus"
              class="btn-ghost btn-small"
              type="button"
            >
              <span
                data-i18n-de="Anzeigen"
                data-i18n-en="Show"
                data-i18n-da="Vis"
              >
                Anzeigen
              </span>
            </button>
          </summary>
          <div class="filter-group">
            <p
              id="plus-status-text"
              data-i18n-de="Family Spots Plus ist nicht aktiviert."
              data-i18n-en="Family Spots Plus is not activated."
              data-i18n-da="Family Spots Plus er ikke aktiveret."
            >
              Family Spots Plus ist nicht aktiviert.
            </p>
          </div>
          <div class="plus-code-form">
            <label
              for="plus-code-input"
              data-i18n-de="Partner-Code eingeben (z. B. von Campingplatz, Kommune oder Sponsor):"
              data-i18n-en="Enter partner code (e.g. from campground, municipality or sponsor):"
              data-i18n-da="Indtast partnerkode (f.eks. fra campingplads, kommune eller sponsor):"
            >
              Partner-Code eingeben (z. B. von Campingplatz, Kommune oder Sponsor):
            </label>
            <div class="plus-code-row">
              <input
                id="plus-code-input"
                name="plus-code"
                class="input"
                type="text"
                autocomplete="off"
              />
              <button id="plus-code-submit" class="btn" type="button">
                <span
                  data-i18n-de="Code aktivieren"
                  data-i18n-en="Activate code"
                  data-i18n-da="AktivÃ©r kode"
                >
                  Code aktivieren
                </span>
              </button>
            </div>
            <p
              class="plus-note"
              data-i18n-de="Family Spots Plus schaltet zusÃ¤tzliche Filter &amp; Spots frei â€“ ganz ohne Abo-Falle."
              data-i18n-en="Family Spots Plus unlocks additional filters &amp; spots â€“ with no subscription trap."
              data-i18n-da="Family Spots Plus lÃ¥ser op for ekstra filtre &amp; spots â€“ helt uden abonnementsfÃ¦lder."
            >
              Family Spots Plus schaltet zusÃ¤tzliche Filter &amp; Spots frei â€“ ganz ohne Abo-Falle.
            </p>
          </div>
        </details>

        <!-- Mein Tag -->
        <details
          class="sidebar-section"
          id="daylog-section"
          aria-labelledby="daylog-section-title"
        >
          <summary class="sidebar-section-header">
            <h2
              class="sidebar-section-title"
              id="daylog-section-title"
              data-i18n-de="Mein Tag ğŸ’›"
              data-i18n-en="My day ğŸ’›"
              data-i18n-da="Min dag ğŸ’›"
            >
              Mein Tag ğŸ’›
            </h2>
            <button
              id="btn-toggle-daylog"
              class="btn-ghost btn-small"
              type="button"
            >
              <span
                data-i18n-de="Anzeigen"
                data-i18n-en="Show"
                data-i18n-da="Vis"
              >
                Anzeigen
              </span>
            </button>
          </summary>
          <div class="filter-group">
            <label
              for="daylog-text"
              data-i18n-de="Wie war euer Tag?"
              data-i18n-en="How was your day?"
              data-i18n-da="Hvordan var jeres dag?"
            >
              Wie war euer Tag?
            </label>
            <p
              class="filter-group-helper"
              data-i18n-de="Halte einen kleinen Moment fest, an den ihr euch spÃ¤ter erinnern mÃ¶chtet â€“ wenn du magst, mit einem GruÃŸ an Tilla."
              data-i18n-en="Capture a little moment youâ€™d like to remember later â€“ and if you like, add a small note to Tilla."
              data-i18n-da="Gem et lille Ã¸jeblik, som I gerne vil huske senere â€“ og hvis du har lyst, med en lille hilsen til Tilla."
            >
              Halte einen kleinen Moment fest, an den ihr euch spÃ¤ter erinnern mÃ¶chtet â€“ wenn du magst, mit einem GruÃŸ
              an Tilla.
            </p>

            <textarea
              id="daylog-text"
              name="daylog"
              class="input"
              rows="3"
              placeholder="Heute haben wir einen Ort gefunden, an dem die Zeit kurz langsamer wurde."
            ></textarea>

            <button id="daylog-save" class="btn btn-small" type="button">
              <span
                data-i18n-de="Speichern ğŸ’¾"
                data-i18n-en="Save ğŸ’¾"
                data-i18n-da="Gem ğŸ’¾"
              >
                Speichern ğŸ’¾
              </span>
            </button>

            <!-- Status + LÃ¶schen-Button in einer Zeile -->
            <div class="daylog-meta-row">
              <p
                id="daylog-last-saved"
                class="daylog-last-saved"
                data-i18n-de="Noch nichts gespeichert."
                data-i18n-en="Nothing saved yet."
                data-i18n-da="Ingen gemte endnu."
              >
                Noch nichts gespeichert.
              </p>
              <button
                id="daylog-clear"
                class="btn-ghost btn-small daylog-clear-btn hidden"
                type="button"
              >
                <span
                  data-i18n-de="Eintrag lÃ¶schen"
                  data-i18n-en="Delete entry"
                  data-i18n-da="Slet notat"
                >
                  Eintrag lÃ¶schen
                </span>
              </button>
            </div>

            <!-- NEU: Liste der gespeicherten EintrÃ¤ge -->
            <div id="daylog-list" class="daylog-list"></div>
          </div>
        </details>
      </section>

      <!-- =========================================
           ABOUT VIEW
           ========================================= -->
      <section id="view-about" class="view" aria-label="Ãœber Family Spots Map">
        <!-- Deutsch -->
        <article
          id="page-about-de"
          class="page page-about"
          lang="de"
          aria-hidden="false"
        >
          <!-- ... ABOUT-Texte bleiben unverÃ¤ndert ... -->
          <!-- (ab hier exakt dein vorhandener About-Content; ich lasse ihn aus PlatzgrÃ¼nden
               unverÃ¤ndert stehen, du kannst 1:1 deine Version einsetzen) -->
          <!-- BEGINN DEUTSCHER ABOUT-TEXT -->
          <h2>Ãœber Family Spots Map</h2>
          <p>
            Family Spots Map ist eine Karte, behutsam gezeichnet fÃ¼r Familienabenteuer â€“<br />
            von Eltern fÃ¼r Eltern.<br />
            Nicht StrÃ¶me aus Listen, nicht anonyme Sterne,<br />
            sondern handverlesene SpielplÃ¤tze, Zoos und Wildparks,<br />
            Wasser-Spots, Museen, Bewegungsparks<br />
            und all die Orte, an denen Kinder wirklich schon gelacht, gestaunt und gespielt haben.
          </p>
          <!-- (â€¦ restlicher About-Text DE, DA, EN unverÃ¤ndert wie in deiner Vorlage â€¦) -->
          <!-- END DEUTSCHER ABOUT-TEXT -->
        </article>

        <!-- Dansk -->
        <article
          id="page-about-da"
          class="page page-about hidden"
          lang="da"
          aria-hidden="true"
        >
          <!-- DÃ¤nischer About-Text unverÃ¤ndert -->
          <h2>Om Family Spots Map</h2>
          <p>
            Family Spots Map er et kort, tegnet med omtanke til familieeventyr â€“<br />
            lavet af forÃ¦ldre til forÃ¦ldre.<br />
            Ikke endelÃ¸se lister, ikke anonyme stjerner,<br />
            men hÃ¥ndplukkede legepladser, zoologiske haver og dyreparker,<br />
            vandsteder, museer, bevÃ¦gelsesparker<br />
            og alle de steder, hvor bÃ¸rn allerede har grinet, undret sig og leget.
          </p>
          <!-- â€¦ Rest wie in deiner Vorlage â€¦ -->
        </article>

        <!-- Englisch -->
        <article
          id="page-about-en"
          class="page page-about hidden"
          lang="en"
          aria-hidden="true"
        >
          <!-- Englischer About-Text unverÃ¤ndert -->
          <h2>About Family Spots Map</h2>
          <p>
            Family Spots Map is a carefully curated map for family adventures â€“<br />
            drawn by parents for parents.<br />
            Instead of endless lists or faceless ratings,<br />
            youâ€™ll find handpicked playgrounds, zoos and wildlife parks,<br />
            water spots, museums, movement parks<br />
            and many more places that have proven themselves with real kids.
          </p>
          <!-- â€¦ Rest wie in deiner Vorlage â€¦ -->
        </article>
      </section>

      <!-- =========================================
           FILTER-MODAL: ALLE FILTER
           ========================================= -->
      <div
        id="filter-modal"
        class="filter-modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="filter-modal-title"
        hidden
      >
        <div class="filter-modal-inner">
          <header class="filter-modal-header">
            <h2
              id="filter-modal-title"
              data-i18n-de="Alle Filter"
              data-i18n-en="All filters"
              data-i18n-da="Alle filtre"
            >
              Alle Filter
            </h2>
            <button
              id="filter-modal-close"
              class="btn-ghost btn-small filter-modal-close-btn"
              type="button"
            >
              <span
                data-i18n-de="Alle Filter ausblenden"
                data-i18n-en="Hide all filters"
                data-i18n-da="Skjul alle filtre"
              >
                Alle Filter ausblenden
              </span>
            </button>
          </header>

          <div class="filter-modal-body">
            <p
              class="filter-group-helper"
              data-i18n-de="Hier kannst du Schnellfilter, Kategorien, Alter der Kinder und besondere Spots feinjustieren."
              data-i18n-en="Here you can fine-tune quick filters, categories, age and special spots."
              data-i18n-da="Her kan du finjustere hurtigfiltre, kategorier, alder og sÃ¦rlige spots."
            >
              Hier kannst du Schnellfilter, Kategorien, Alter der Kinder und besondere Spots feinjustieren.
            </p>

            <details
              class="filter-advanced"
              id="advanced-filters"
              aria-labelledby="advanced-filters-label"
              open
            >
              <summary
                class="filter-advanced-summary"
                id="advanced-filters-summary"
              >
                <span
                  class="filter-group-label"
                  id="advanced-filters-label"
                  data-i18n-de="Weitere Filter"
                  data-i18n-en="More filters"
                  data-i18n-da="Flere filtre"
                >
                  Weitere Filter
                </span>
              </summary>

              <p
                class="filter-group-helper"
                data-i18n-de="Hier findest du Schnellfilter, Kategorien, Alter &amp; besondere Spots â€“ fÃ¼r genau das, was heute zu euch passt."
                data-i18n-en="Here you can fine-tune quick filters, categories, age and special spots â€“ for exactly what fits your family today."
                data-i18n-da="Her finder du hurtigfiltre, kategorier, alder og sÃ¦rlige spots â€“ sÃ¥ du kan ramme lige det, der passer til jer i dag."
              >
                Hier findest du Schnellfilter, Kategorien, Alter &amp; besondere Spots â€“ fÃ¼r genau das, was heute zu
                euch passt.
              </p>

              <!-- Schnellfilter -->
              <div class="filter-group" id="filter-tags-group">
                <label
                  class="filter-group-label"
                  id="filter-tags-label"
                  data-i18n-de="Schnellfilter"
                  data-i18n-en="Quick filters"
                  data-i18n-da="Hurtigfiltre"
                >
                  Schnellfilter
                </label>
                <p
                  class="filter-group-helper"
                  id="filter-tags-helper"
                  data-i18n-de="Ein Tipp genÃ¼gt â€“ â€mit Wasserâ€œ, â€ruhigâ€œ, â€Actionâ€œ oder â€Naturpfadâ€œ. Die Karte sortiert fÃ¼r euch vor."
                  data-i18n-en="One tap is enough â€“ â€œwith waterâ€, â€œcalmâ€, â€œactionâ€ or â€œnature trailâ€. The map pre-sorts for you."
                  data-i18n-da="Et enkelt tryk â€“ â€med vandâ€œ, â€roligâ€œ, â€actionâ€œ eller â€naturstiâ€œ. Kortet sorterer for jer."
                >
                  Ein Tipp genÃ¼gt â€“ â€mit Wasserâ€œ, â€ruhigâ€œ, â€Actionâ€œ oder â€Naturpfadâ€œ. Die Karte sortiert fÃ¼r euch vor.
                </p>
                <div
                  id="filter-tags"
                  class="tag-filter-row"
                  role="group"
                  aria-labelledby="filter-tags-label"
                  aria-describedby="filter-tags-helper"
                >
                  <!-- Chips werden dynamisch durch JS gerendert -->
                </div>
              </div>

              <!-- Kategorie -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  for="filter-category"
                  id="filter-category-label"
                  data-i18n-de="Kategorie"
                  data-i18n-en="Category"
                  data-i18n-da="Kategori"
                >
                  Kategorie
                </label>
                <select id="filter-category" name="category" class="input">
                  <option
                    value=""
                    data-i18n-de="Alle Kategorien"
                    data-i18n-en="All categories"
                    data-i18n-da="Alle kategorier"
                  >
                    Alle Kategorien
                  </option>
                </select>
              </div>

              <!-- Alter -->
              <div class="filter-group">
                <label
                  class="filter-group-label"
                  for="filter-age"
                  id="filter-age-label"
                  data-i18n-de="Alter der Kinder"
                  data-i18n-en="Age of children"
                  data-i18n-da="BÃ¸rnenes alder"
                >
                  Alter der Kinder
                </label>
                <select id="filter-age" name="age" class="input">
                  <option
                    value="all"
                    id="filter-age-all"
                    data-i18n-de="Alle Altersstufen"
                    data-i18n-en="All age groups"
                    data-i18n-da="Alle aldersgrupper"
                  >
                    Alle Altersstufen
                  </option>
                  <option
                    value="0-3"
                    id="filter-age-0-3"
                    data-i18n-de="0â€“3 Jahre"
                    data-i18n-en="0â€“3 years"
                    data-i18n-da="0â€“3 Ã¥r"
                  >
                    0â€“3 Jahre
                  </option>
                  <option
                    value="4-9"
                    id="filter-age-4-9"
                    data-i18n-de="4â€“9 Jahre"
                    data-i18n-en="4â€“9 years"
                    data-i18n-da="4â€“9 Ã¥r"
                  >
                    4â€“9 Jahre
                  </option>
                  <option
                    value="10+"
                    id="filter-age-10-plus"
                    data-i18n-de="10+ Jahre"
                    data-i18n-en="10+ years"
                    data-i18n-da="10+ Ã¥r"
                  >
                    10+ Jahre
                  </option>
                </select>
              </div>

              <!-- Nur verifizierte Spots -->
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label" id="filter-verified-label">
                  <input id="filter-verified" name="verified" type="checkbox" />
                  <span
                    data-i18n-de="Nur verifizierte Spots"
                    data-i18n-en="Only verified spots"
                    data-i18n-da="Kun verificerede spots"
                  >
                    Nur verifizierte Spots
                  </span>
                </label>
              </div>

              <!-- GroÃŸe Abenteuer -->
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label" id="filter-big-label">
                  <input
                    id="filter-big-adventures"
                    name="big-adventures"
                    type="checkbox"
                  />
                  <span
                    data-i18n-de="GroÃŸe Abenteuer"
                    data-i18n-en="Big adventures"
                    data-i18n-da="Store eventyr"
                  >
                    GroÃŸe Abenteuer
                  </span>
                </label>
              </div>

              <!-- Nur Favoriten -->
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label" id="filter-favorites-label">
                  <input
                    id="filter-favorites"
                    name="favorites"
                    type="checkbox"
                  />
                  <span
                    data-i18n-de="Nur Favoriten"
                    data-i18n-en="Favourites only"
                    data-i18n-da="Kun favoritter"
                  >
                    Nur Favoriten
                  </span>
                </label>
              </div>
            </details>
          </div>

          <footer class="filter-modal-footer">
            <button
              id="filter-modal-reset"
              class="btn-ghost"
              type="button"
            >
              <span
                data-i18n-de="Filter zurÃ¼cksetzen"
                data-i18n-en="Reset filters"
                data-i18n-da="Nulstil filtre"
              >
                Filter zurÃ¼cksetzen
              </span>
            </button>
            <button id="filter-modal-apply" class="btn" type="button">
              <span
                data-i18n-de="Filter anwenden"
                data-i18n-en="Apply filters"
                data-i18n-da="Brug filtre"
              >
                Filter anwenden
              </span>
            </button>
          </footer>
        </div>
      </div>
    </main>

    <!-- Toast -->
    <div id="toast" class="toast" role="status" aria-live="polite"></div>
  </div>

  <!-- Landscape-Warnung -->
  <div class="landscape-warning" aria-hidden="true">
    <span aria-hidden="true">
      Bitte GerÃ¤t drehen ğŸ“±ğŸ”„ â€“ im Hochformat macht die Family Spots Map Tilla ein bisschen glÃ¼cklicher.
    </span>
  </div>

  <!-- MenÃ¼-Logik & Sprachchips steuern alten Language-Switcher -->
  <script>
    (function () {
      const menuToggle = document.getElementById('menu-toggle');
      const menu = document.getElementById('app-menu');
      const backdrop = menu && menu.querySelector('.app-menu-backdrop');

      function openMenu() {
        if (!menu) return;
        menu.hidden = false;
        document.body.dataset.menuOpen = '1';
        if (menuToggle) menuToggle.setAttribute('aria-expanded', 'true');
      }

      function closeMenu() {
        if (!menu) return;
        menu.hidden = true;
        delete document.body.dataset.menuOpen;
        if (menuToggle) menuToggle.setAttribute('aria-expanded', 'false');
      }

      if (menuToggle) {
        menuToggle.addEventListener('click', () => {
          if (menu && menu.hidden) {
            openMenu();
          } else {
            closeMenu();
          }
        });
      }

      if (backdrop) {
        backdrop.addEventListener('click', closeMenu);
      }

      if (menu) {
        menu.addEventListener('click', (event) => {
          const target = event.target;
          if (target && target.closest('[data-menu-close]')) {
            closeMenu();
          }
        });
      }

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeMenu();
        }
      });

      // Sprachchips â†’ alten Language-Switcher klicken, bis Ziel-Sprache aktiv ist
      const langOrder = ['de', 'da', 'en'];

      function getCurrentLang() {
        const html = document.documentElement;
        return html.getAttribute('lang') || html.dataset.lang || 'de';
      }

      function syncActiveLangChip() {
        const current = getCurrentLang();
        document.querySelectorAll('.app-menu-lang-chip').forEach((btn) => {
          const isActive = btn.dataset.langTarget === current;
          btn.classList.toggle('app-menu-lang-chip--active', isActive);
        });
      }

      function cycleLanguageTo(targetLang) {
        const legacyButton = document.getElementById('language-switcher');
        if (!legacyButton) return;

        if (getCurrentLang() === targetLang) {
          syncActiveLangChip();
          return;
        }

        let guard = 0;
        const guardMax = langOrder.length + 1;

        while (getCurrentLang() !== targetLang && guard < guardMax) {
          legacyButton.click();
          guard += 1;
        }
        syncActiveLangChip();
      }

      document.querySelectorAll('.app-menu-lang-chip').forEach((btn) => {
        btn.addEventListener('click', () => {
          const targetLang = btn.dataset.langTarget;
          if (!targetLang) return;
          cycleLanguageTo(targetLang);
        });
      });

      window.addEventListener('load', syncActiveLangChip);
    })();
  </script>

  <!-- Scripts: Leaflet + MarkerCluster -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin="anonymous"
    defer
  ></script>
  <script
    src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"
    defer
  ></script>

  <!-- Onboarding-Hinweis (ES-Modul) -->
  <script type="module" src="./js/onboarding-hint.js"></script>

  <!-- App (ES-Modul) -->
  <script type="module" src="./js/app.js"></script>
</body>
</html>