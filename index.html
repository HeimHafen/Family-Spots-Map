<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <title>Family Spots Map</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta
      name="description"
      content="Family Spots Map ist die schÃ¶nste Karte fÃ¼r Familien-Abenteuer."
    />

    <!-- Favicon kannst du nach Bedarf ersetzen -->
    <link rel="icon" href="favicon.ico" />

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha512-sA+e2atf6n0wCwZ0pniS3pSke1Mt2rt7NmBGG99nmCaTKty+O+kO5OVwOB1p5MNDoAuCEr0aYawslLm4pFkFNw=="
      crossorigin=""
    />
    <!-- Markercluster CSS (optional, aber von app.js genutzt) -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"
    />

    <!-- Deine App-Styles -->
    <link rel="stylesheet" href="css/app.css" />
  </head>

  <body>
    <noscript>
      <div class="noscript-warning">
        Family Spots Map benÃ¶tigt JavaScript, um die Karte und die Filter
        anzuzeigen.
      </div>
    </noscript>

    <div class="app">
      <!-- =========================================
           HEADER
           ========================================= -->
      <header class="app-header">
        <div class="app-header-top">
          <div class="app-header-left">
            <button
              id="language-switcher"
              class="language-switcher"
              type="button"
              aria-label="Sprache wechseln"
            >
              DE
            </button>
          </div>

          <div class="app-header-right">
            <button
              id="theme-toggle"
              class="btn-icon"
              type="button"
              aria-label="Designmodus wechseln"
            >
              ğŸŒ—
            </button>

            <button
              id="btn-locate"
              class="btn-icon"
              type="button"
              aria-label="Standort zentrieren"
            >
              ğŸ“
            </button>
          </div>
        </div>

        <div class="app-header-main">
          <h1 class="header-title" id="app-title" tabindex="-1">
            <span class="header-flag">ğŸ‡©ğŸ‡ª</span>
            <span>Family <span class="header-title-spots">Spots</span> Map</span>
            <span class="header-flag">ğŸ‡©ğŸ‡°</span>
          </h1>
          <div
            id="header-tagline"
            class="header-tagline"
            data-i18n="header_tagline"
          >
            Heute ist Zeit fÃ¼r Familie.
          </div>
        </div>
      </header>

      <!-- =========================================
           MAIN
           ========================================= -->
      <main class="app-main">
        <!-- MAP VIEW -->
        <section id="view-map" class="view view--active" aria-label="Karte">
          <!-- SIDEBAR -->
          <aside class="sidebar">
            <!-- TILLA SECTION -->
            <section
              id="tilla-section"
              class="sidebar-section tilla-sidebar-section"
            >
              <div class="sidebar-section-header">
                <h2 class="sidebar-section-title">
                  Familien-Begleiterin Tilla
                </h2>
                <button
                  type="button"
                  class="sidebar-section-close"
                  data-target="tilla-section"
                >
                  SchlieÃŸen
                </button>
              </div>

              <div class="tilla-sidebar-card">
                <div class="tilla-sidebar-avatar">
                  <img
                    src="img/tilla.png"
                    alt="Tilla die SchildkrÃ¶te â€“ eure Familienbegleiterin"
                  />
                </div>
                <div class="tilla-sidebar-text">
                  <p id="tilla-sidebar-text">
                    Ich bin Tilla. Mit mir wird eure Karte zu einer Schatzkarte
                    voller Familienmomente. Alltag darf auch leicht sein. Lass
                    uns schauen, was in eurer NÃ¤he ein LÃ¤cheln zaubert. ğŸŒ¿
                  </p>

                  <button
                    id="btn-play-idea"
                    type="button"
                    class="btn-play-idea"
                  >
                    <span class="tilla-play-emoji">ğŸ²</span>
                    <span>Spielideen fÃ¼r unterwegs</span>
                  </button>
                </div>
              </div>
            </section>

            <!-- KOMPASS SECTION -->
            <details
              id="compass-section"
              class="sidebar-section"
              open
            >
              <summary class="sidebar-section-header">
                <h2 class="sidebar-section-title" id="compass-label">
                  Familien-Kompass
                </h2>
                <button
                  type="button"
                  class="sidebar-section-close"
                  data-target="compass-section"
                >
                  SchlieÃŸen
                </button>
              </summary>

              <p
                id="compass-helper"
                class="filter-group-helper"
                data-i18n="compass_helper"
              >
                WÃ¤hlt aus, wie ihr heute unterwegs seid â€“ ich passe Radius und
                Spots fÃ¼r euch an.
              </p>

              <div class="compass-card">
                <div class="filter-group">
                  <span class="filter-group-label">Wie seid ihr unterwegs?</span>
                  <div class="mood-row">
                    <button
                      type="button"
                      class="travel-chip"
                      data-travel-mode="everyday"
                      aria-pressed="false"
                    >
                      <span>Alltag / Zuhause</span>
                    </button>
                    <button
                      type="button"
                      class="travel-chip"
                      data-travel-mode="trip"
                      aria-pressed="false"
                    >
                      <span>Unterwegs / Tour</span>
                    </button>
                  </div>
                </div>

                <div class="filter-group">
                  <button
                    id="compass-apply"
                    type="button"
                    class="btn btn-small hidden"
                  >
                    <span id="compass-apply-label" data-i18n="compass_apply_label">
                      Kompass anwenden
                    </span>
                  </button>
                </div>
              </div>
            </details>

            <!-- FILTER SECTION -->
            <section id="filter-section" class="sidebar-section">
              <div class="sidebar-section-header">
                <h2
                  id="filter-title"
                  class="sidebar-section-title"
                >
                  Filter
                </h2>

                <button
                  id="btn-toggle-filters"
                  type="button"
                  class="btn-ghost btn-small"
                >
                  <span>Filter anzeigen</span>
                </button>
              </div>

              <p class="filter-group-helper">
                Hier wÃ¤hlst du, was zu euch passt â€“ der Familien-Kompass nutzt
                diese Auswahl.
              </p>

              <!-- SUCHE -->
              <div class="filter-group">
                <label class="filter-group-label" for="filter-search">
                  Suche
                </label>
                <input
                  id="filter-search"
                  class="input"
                  type="search"
                  autocomplete="off"
                  placeholder="Ort, Spot, StichwÃ¶rter â€¦"
                />
              </div>

              <!-- STIMMUNG -->
              <div class="filter-group">
                <span class="filter-group-label">Stimmung</span>
                <p class="filter-group-helper">
                  Wonach fÃ¼hlt es sich heute an?
                </p>
                <div class="mood-row">
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="relaxed"
                    aria-pressed="false"
                  >
                    <span class="mood-chip-emoji">ğŸŒ¿</span>
                    <span>Entspannt</span>
                  </button>
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="action"
                    aria-pressed="false"
                  >
                    <span class="mood-chip-emoji">â›°ï¸</span>
                    <span>Bewegung</span>
                  </button>
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="water"
                    aria-pressed="false"
                  >
                    <span class="mood-chip-emoji">ğŸ’§</span>
                    <span>Wasser &amp; Sand</span>
                  </button>
                  <button
                    type="button"
                    class="mood-chip"
                    data-mood="animals"
                    aria-pressed="false"
                  >
                    <span class="mood-chip-emoji">ğŸ¾</span>
                    <span>Tier-Tag</span>
                  </button>
                </div>
              </div>

              <!-- SCHNELLFILTER (Tag-Chips aus FILTERS) -->
              <div class="filter-group">
                <span class="filter-group-label">Schnellfilter</span>
                <p class="filter-group-helper">
                  Einmal tippen fÃ¼r typische WÃ¼nsche wie â€mit Wasserâ€œ, â€ruhigâ€œ,
                  â€Actionâ€œ oder â€Naturpfadâ€œ.
                </p>
                <div id="filter-tags" class="mood-row">
                  <!-- wird dynamisch aus FILTERS in config.js aufgebaut -->
                </div>
              </div>

              <!-- KATEGORIE -->
              <div class="filter-group">
                <label class="filter-group-label" for="filter-category">
                  Kategorie
                </label>
                <select id="filter-category" class="input">
                  <option value="">Alle Kategorien</option>
                  <!-- weitere Optionen werden aus config.js eingefÃ¼gt -->
                </select>
              </div>

              <!-- ALTER -->
              <div class="filter-group">
                <label class="filter-group-label" for="filter-age">
                  Alter der Kinder
                </label>
                <select id="filter-age" class="input">
                  <option value="all">Alle Altersstufen</option>
                  <option value="0-3">0â€“3 Jahre</option>
                  <option value="4-9">4â€“9 Jahre</option>
                  <option value="10+">10+ Jahre</option>
                </select>
              </div>

              <!-- RADIUS -->
              <div class="filter-group">
                <label class="filter-group-label" for="filter-radius">
                  Micro-Abenteuer-Radius
                </label>
                <p class="filter-group-helper">
                  Wie weit darf euer Abenteuer heute gehen?
                </p>
                <div class="radius-row">
                  <input
                    id="filter-radius"
                    type="range"
                    min="0"
                    max="4"
                    step="1"
                    value="4"
                  />
                  <span
                    id="filter-radius-max-label"
                    class="radius-max-label"
                  >
                    Alle Spots
                  </span>
                </div>
                <p
                  id="filter-radius-description"
                  class="radius-description"
                >
                  Alle Spots â€“ ohne Radiusbegrenzung. Die Karte gehÃ¶rt euch.
                </p>
              </div>

              <!-- CHECKBOXEN -->
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label">
                  <input id="filter-big-adventures" type="checkbox" />
                  <span>Nur groÃŸe Abenteuer</span>
                </label>
              </div>
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label">
                  <input id="filter-verified" type="checkbox" />
                  <span>Nur verifizierte Spots</span>
                </label>
              </div>
              <div class="filter-group filter-group--checkbox">
                <label class="checkbox-label">
                  <input id="filter-favorites" type="checkbox" />
                  <span>Nur Favoriten</span>
                </label>
              </div>
            </section>

            <!-- PLUS SECTION -->
            <details id="plus-section" class="sidebar-section">
              <summary class="sidebar-section-header">
                <h2 class="sidebar-section-title">Family Spots Plus</h2>
                <button
                  id="btn-toggle-plus"
                  type="button"
                  class="btn-ghost btn-small"
                >
                  <span>Anzeigen</span>
                </button>
              </summary>

              <div class="filter-group">
                <p class="filter-group-helper">
                  Mit Family Spots Plus schaltet ihr zusÃ¤tzliche Kategorien fÃ¼r
                  unterwegs frei (z.&nbsp;B. CampingplÃ¤tze, StellplÃ¤tze,
                  RastplÃ¤tze).
                </p>

                <div class="plus-code-form">
                  <label for="plus-code-input">Aktions-Code eingeben</label>
                  <div class="plus-code-row">
                    <input
                      id="plus-code-input"
                      class="input"
                      type="text"
                      autocomplete="off"
                      placeholder="z.B. FAMILIENREISE23"
                    />
                    <button
                      id="plus-code-submit"
                      class="btn btn-small"
                      type="button"
                    >
                      Code aktivieren
                    </button>
                  </div>
                  <p id="plus-status-text" class="plus-note"></p>
                </div>
              </div>
            </details>

            <!-- MEIN TAG SECTION -->
            <details id="daylog-section" class="sidebar-section">
              <summary class="sidebar-section-header">
                <h2 class="sidebar-section-title">Mein Tag</h2>
                <button
                  id="btn-toggle-daylog"
                  type="button"
                  class="btn-ghost btn-small"
                >
                  <span>Anzeigen</span>
                </button>
              </summary>

              <div class="filter-group">
                <label for="daylog-text">Was habt ihr heute erlebt?</label>
                <textarea
                  id="daylog-text"
                  class="input"
                  placeholder="Heute waren wir im Wildpark â€“ die Ziegen waren sooo sÃ¼ÃŸ!"
                ></textarea>
                <button
                  id="daylog-save"
                  type="button"
                  class="btn btn-small"
                >
                  Speichern
                </button>
              </div>
            </details>

            <!-- SPOT-LISTE -->
            <section
              class="sidebar-section sidebar-section--grow"
              aria-label="Spots"
            >
              <div class="sidebar-section-header">
                <h2 class="sidebar-section-title">Spots</h2>
                <button
                  id="btn-toggle-view"
                  type="button"
                  class="btn-ghost btn-small"
                >
                  <span>Nur Karte</span>
                </button>
              </div>

              <div id="spot-list">
                <!-- Karten werden von app.js gerendert -->
              </div>
            </section>
          </aside>

          <!-- MAP AREA -->
          <section class="map-section map-section-main">
            <div id="map" class="map-container" aria-label="Karte"></div>

            <!-- Spot-Details Overlay -->
            <aside
              id="spot-detail"
              class="spot-details spot-details--hidden"
              aria-live="polite"
            ></aside>
          </section>
        </section>

        <!-- ABOUT VIEW -->
        <section
          id="view-about"
          class="view"
          aria-label="Ãœber Family Spots Map"
        >
          <article
            id="page-about-de"
            class="page-about"
          >
            <h2 tabindex="-1">Ãœber Family Spots Map</h2>
            <p>
              Family Spots Map hilft euch, passende Orte fÃ¼r Familienmomente zu
              finden â€“ vom Spielplatz um die Ecke bis zum Tagesausflug.
            </p>
            <h3>Wie funktioniert die Karte?</h3>
            <p>
              Nutzt die Filter, um Stimmung, Radius und Besonderheiten zu
              wÃ¤hlen. Die Karte zeigt euch dann Spots, die dazu passen.
            </p>
            <h3>Feedback &amp; Ideen</h3>
            <p>
              Ihr habt einen neuen Spot entdeckt oder wÃ¼nscht euch eine
              Funktion? Schreibt mir gern â€“ Family Spots Map wÃ¤chst mit euren
              Erfahrungen.
            </p>
          </article>

          <article
            id="page-about-en"
            class="page-about hidden"
            aria-hidden="true"
          >
            <h2 tabindex="-1">About Family Spots Map</h2>
            <p>
              Family Spots Map helps you discover places for family moments â€“
              from the playground around the corner to full-day trips.
            </p>
            <h3>How does it work?</h3>
            <p>
              Use the filters to choose mood, radius and special wishes. The map
              then shows spots that match.
            </p>
            <h3>Feedback &amp; ideas</h3>
            <p>
              Found a great new spot or missing a feature? Feel free to reach
              out â€“ Family Spots Map grows with your experiences.
            </p>
          </article>
        </section>
      </main>

      <!-- BOTTOM NAV -->
      <nav class="bottom-nav" aria-label="Hauptnavigation">
        <div class="bottom-nav-background"></div>
        <div class="bottom-nav-indicator"></div>

        <button
          class="bottom-nav-item bottom-nav-item--active"
          type="button"
          data-route="map"
          aria-current="page"
        >
          <span class="bottom-nav-icon">ğŸ—ºï¸</span>
          <span id="bottom-nav-map-label" data-i18n="nav_map">Karte</span>
        </button>

        <button
          class="bottom-nav-item"
          type="button"
          data-route="about"
          aria-current="false"
        >
          <span class="bottom-nav-icon">â„¹ï¸</span>
          <span id="bottom-nav-about-label" data-i18n="nav_about">
            Ãœber Family Spots Map
          </span>
        </button>
      </nav>

      <!-- TOAST -->
      <div id="toast" class="toast" role="status" aria-live="polite"></div>

      <!-- LANDSCAPE-HINWEIS (MOBILE) -->
      <div class="landscape-warning">
        FÃ¼r eine bessere Ãœbersicht kannst du dein GerÃ¤t auch hochkant halten.
      </div>
    </div>

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha512-vIOxTn8ZESZUpv7R6POjISiFDUFxu05oig3NbS1RyCBj3TDIrS9KuX3sI5Gucs5cjox96D65VNLgT0bM0VBr9Q=="
      crossorigin=""
    ></script>
    <!-- Markercluster JS -->
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

    <!-- Deine App (importiert i18n.js intern) -->
    <script type="module" src="js/app.js"></script>
  </body>
</html>