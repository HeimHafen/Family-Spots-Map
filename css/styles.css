/* styles.css — Aggregator für modulare Styles */

/* 1. Design-Variablen (Light/Dark Theme) */
@import url("./theme.css");

/* 2. Reset, Body, Typografie, Grundlayout */
@import url("./base.css");

/* 3. Utilities / Hilfsklassen (.hidden, .sr-only, etc.) */
@import url("./utilities.css");

/* 4. Komponenten, Layout, Map, Sidebar, Bottom-Nav, Toast, Onboarding etc. */
@import url("./components.css");

/* =========================================
   Override: Header im Light-Theme wärmer
   (überschreibt ggf. feste Farben aus components.css)
   ========================================= */
html[data-theme="light"] .app-header {
  background:
    radial-gradient(900px 420px at 18% -10%,
      rgba(243, 162, 58, 0.32) 0%,
      rgba(243, 162, 58, 0.00) 60%),
    linear-gradient(180deg,
      #FFF7EE 0%,
      #FFE7D1 55%,
      #F6C79D 100%);
  border-bottom: 1px solid rgba(243, 162, 58, 0.18);
}

/* =========================================================
   FIX 1: Menü (☰) wieder kompakt (nicht fullscreen-hoch)
   ========================================================= */

/* Overlay bleibt fullscreen (Backdrops sollen den Rest abdunkeln),
   aber das Panel selbst wird "content-sized" + max-height + scroll. */
.app-menu {
  position: fixed;
  inset: 0;
  z-index: 2600;
  display: flex;
  align-items: flex-start;
  justify-content: flex-end;

  /* Abstand zu Rändern + Safe Area */
  padding:
    calc(env(safe-area-inset-top, 0px) + 10px)
    10px
    calc(env(safe-area-inset-bottom, 0px) + 10px)
    10px;
}

/* Backdrop darf gern den ganzen Screen abdecken */
.app-menu-backdrop {
  position: fixed;
  inset: 0;
}

/* Panel: NICHT mehr height:100% / flex:1, sondern kompakt */
.app-menu-panel {
  /* verhindert "mitwachsen" in manchen Layouts */
  flex: 0 0 auto;

  /* kompakte Sheet-Größe */
  width: min(420px, calc(100vw - 20px));

  /* entscheidend: Höhe begrenzen */
  max-height: min(
    520px,
    calc(100vh - 20px - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px))
  );

  overflow: auto;

  /* optisch sauber */
  -webkit-overflow-scrolling: touch;
  border-radius: 22px;
}

/* Optional: etwas weniger "Luft" unter dem Sprachbereich,
   falls components.css dort zu aggressive min-heights setzt */
.app-menu-languages {
  margin-bottom: 0;
  padding-bottom: 6px;
}

/* =========================================================
   FIX 2: Bottom Nav "Karte / Über" entfernen
   ========================================================= */

/* Falls Bottom-Nav im HTML oder via anderer Datei existiert: hart ausblenden */
.bottom-nav,
.bottom-nav-item,
.bottom-nav-wrapper {
  display: none !important;
}

/* Falls irgendwo Layout-Padding für eine Bottom-Nav reserviert wird */
body,
.app,
.app-main {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}